//
   Created by chinna on 5/8/14.
div
    section.container
        .row
            .col-lg-12
                //h2(class='text-center') Add New Grievance
                //br
                .panel.panel-primary
                    .panel-heading
                        | New Grievance Details
                    .panel-body
                        form#grievanceForm(name='grievanceForm',class='form-horizonal',type='form',novalidate)
                            .col-lg-6
                                .form-group.has-warning
                                    label.control-label(for='name')
                                        | Name
                                        span(class='star-label') *
                                    div(ng-class="{ 'has-error' : grievanceForm.name.$invalid }")
                                        input#name.form-control(type='text',name='name',ng-model='grievance.name',placeholder='Name', required, autofocus)
                                        small(class="label label-danger",ng-show="grievanceForm.name.$invalid && grievanceForm.name.$dirty") Required Name
                                .form-group.has-warning
                                    label.control-label(for='fatherName')
                                        | Father Name
                                        span(class='star-label') *
                                    div(ng-class="{ 'has-error' : grievanceForm.fatherName.$invalid }")
                                        input#fatherName.form-control(type='text',name='fatherName',ng-model='grievance.fatherName',placeholder='Father Name',required)
                                        small(class="label label-danger",ng-show="grievanceForm.fatherName.$invalid && grievanceForm.fatherName.$dirty") Required Father Name
                                .form-group.has-warning
                                    label.control-label(for='dob')
                                        | Birth Date
                                        span(class='star-label') *
                                    //div(ng-class="{ 'has-error' : grievanceForm.dob.$invalid }")
                                    //    input#dob.form-control(type='date', name='dob', ng-change='calculateAgeOnDOB()', ng-model='grievance.dob',placeholder='Date of birth',required)
                                    //    small(class="label label-danger",ng-show="grievanceForm.dob.$invalid && grievanceForm.dob.$dirty") Required Birth Date
                                    #fromDatepicker.input-group.date
                                        input#fromDate.form-control(type='text', required='', name='dob', ng-change='calculateAgeOnDOB()', ng-model='grievance.dob', placeholder='Select Date')
                                        span.input-group-addon
                                            span.glyphicon.glyphicon-calendar

                                .form-group.has-warning
                                    label.control-label(for='age')
                                        | Age
                                    div
                                        input#age.form-control(type='text',name='age',ng-model='grievance.age',placeholder='Select  your date of birth', readonly)
                                .form-group.has-warning
                                    label.control-label(for='phoneNumber')
                                        | Phone Number
                                        span(class='star-label') *
                                    div(ng-class="{ 'has-error' : grievanceForm.phoneNumber.$invalid }")
                                        input#phoneNumber.form-control(type='tel',name='phoneNumber',ng-model='grievance.phoneNumber',placeholder='Phone Number',ng-maxlength="10", ng-minlength="10",required)
                                        small(class="label label-danger",ng-show="grievanceForm.phoneNumber.$invalid && grievanceForm.phoneNumber.$dirty") Required 10 digits mobile number
                                .form-group.has-warning
                                    label.control-label(for='education')
                                        | Education
                                        span(class='star-label') *
                                    select#education.form-control(
                                    name='education',
                                    ng-selected="Select",
                                    ng-options='e.name as e.name for e in education',
                                    ng-model='grievance.education',
                                    required)
                                        option(value='',selected) -- Select Education --
                                .form-group.has-warning
                                    label.control-label(for='address')
                                        | Address
                                    div
                                        textarea#address.form-control(name='address',ng-model='address',placeholder='Address')
                                .form-group.has-warning
                                    label.control-label(for='constituency')
                                        | Constituency
                                        span(class='star-label') *
                                    select#constituency.form-control(
                                    name='constituency',
                                    ng-options='c.name as c.name for c in constituencies',
                                    ng-model='grievance.constituency',
                                    required)
                                        option(value='',selected) -- Select Constituency --

                            .col-lg-6
                                .form-group.has-warning
                                    label.control-label(for='gpu')
                                        | GPU
                                        span(class='star-label') *
                                    select#gpu.form-control(
                                    name='gpu',
                                    ng-options='g.name as g.name for g in gpus',
                                    ng-model='grievance.gpu',
                                    required)
                                        option(value='',selected) -- Select GPU --
                                .form-group.has-warning
                                    label.control-label(for='ward')
                                        | Ward
                                        span(class='star-label') *
                                    select#ward.form-control(
                                    name='ward',
                                    ng-options='w.name as w.name for w in wards',
                                    ng-model='grievance.ward',
                                    required)
                                        option(value='',selected) -- Select Ward --
                                .form-group.has-warning
                                    label.control-label(for='grievanceType')
                                        | Grievance Type
                                        span(class='star-label') *
                                    select#grievanceType.form-control(
                                    name='grievanceType',
                                    ng-options='gt.name as gt.name for gt in grievanceTypes',
                                    ng-model='grievance.grievanceType',
                                    required)
                                        option(value='',selected) -- Select Grievance Type --
                                .form-group.has-warning
                                    label.control-label(for='department')
                                        | Department
                                        span(class='star-label') *
                                    select#department.form-control(
                                    name='department',
                                    ng-options='d.name as d.name for d in departments'
                                    ng-model='grievance.department',
                                    required)
                                        option(value='',selected) -- Select Department --
                                .form-group.has-warning
                                    label.control-label(for='department')
                                        | Scheme
                                        span(class='star-label') *
                                    select#scheme.form-control(
                                    name='scheme',
                                    ng-options='s.name as s.name for s in schemes'
                                    ng-model='grievance.scheme',
                                    required)
                                        option(value='',selected) -- Select Scheme --
                                .form-group.has-warning
                                    label.control-label(for='note')
                                        | Requirement
                                        span(class='star-label') *
                                    div
                                        textarea#requirement.form-control(name='requirement',ng-model='grievance.requirement',placeholder='Requirement', required)
                                        small(class="label label-danger",ng-show="grievanceForm.requirement.$invalid && grievanceForm.requirement.$dirty") Required Requirement
                                .form-group.has-warning
                                    label.control-label(for='grievance-file')
                                        | Upload File
                                        span(class='star-label') *
                                    div(ng-class="{ 'has-error' : grievanceForm.grievanceFile.$invalid }")
                                        input#grievanceFile.form-control(type='file',name='grievanceFile', ng-model='grievance.file', ng-file-select="onFileSelect($files)")
                                        small(class="label label-danger",ng-show="grievanceForm.grievanceFile.$invalid && grievanceForm.grievanceFile.$dirty") Required Grievance File
                                    //div(ng-class="{ 'has-error' : grievanceForm.grievanceFile.$invalid }")
                                    //    input#grievanceFile.form-control(type='file',name='grievanceFile', ng-model='grievance.file', nv-file-select="", uploader="uploader")
                                    //    small(class="label label-danger",ng-show="grievanceForm.grievanceFile.$invalid && grievanceForm.grievanceFile.$dirty") Required Grievance File
                                .form-group.has-warning
                                    label.control-label(for='note')
                                        | Note
                                    div
                                        textarea#note.form-control(name='note',ng-model='note',placeholder='Note')
                        .col-lg-12
                            .col-lg-6
                                button.btn.btn-success(id='btn-createGrievance', ng-click='createGrievance()', ng-disabled='grievanceForm.$invalid')
                                    i.glyphicon.glyphicon-ok
                                    |   Submit
                                button.btn.btn-info(id='btn-print', ng-disabled='reportButton', href="", data-toggle="modal", data-target="#myDetails")
                                    i.glyphicon.glyphicon-print
                                    |   Print
                                button.btn.btn-warning(id='btn-close', ui-sref="userDashboard")
                                    i.glyphicon.glyphicon-circle-arrow-left
                                    |   Back
                            .col-lg-6
                                .alert.alert-success(ng-show='error')
                                    i.fa.fa-check-circle-o
                                        | Grievance Submitted Successfully!
div#printThisPdf
        #myDetails.modal.fade.bs-example-modal-lg(tabindex='-1', role='dialog', aria-labelledby='myLargeModalLabel', aria-hidden='true')
            .modal-dialog.modal-lg
                .modal-content
                    .modal-header
                        //button.close(type='button', data-dismiss='modal')
                        //    span(aria-hidden='true') Ã—
                        //    span.sr-only Close
                    .modal-body
                        div#printThis
                            header
                                div
                                    | Grievance Report
                            p
                                span.span3.offset2 Name
                                span.span4.offset2 {{ new_grievance.name }}
                            p
                                span.span3.offset2 Father Name
                                span.span4.offset2 {{ new_grievance.fatherName }}
                            p
                                span.span3.offset2 DOB
                                span.span4.offset2 {{ new_grievance.dob }}
                            p
                                span.span3.offset2 Phone Number
                                span.span4.offset2 {{ new_grievance.phoneNumber }}
                            p
                                span.span3.offset2 Education
                                span.span4.offset2 {{ new_grievance.education }}
                            p
                                span.span3.offset2 Address
                                span.span4.offset2 {{ new_grievance.address }}
                            p
                                span.span3.offset2 GPU
                                span.span4.offset2 {{ new_grievance.gpu }}
                            p
                                span.span3.offset2 Ward
                                span.span4.offset2 {{ new_grievance.ward }}
                            p
                                span.span3.offset2 Constituency
                                span.span4.offset2 {{ new_grievance.constituency }}
                            p
                                span.span3.offset2 Department
                                span.span4.offset2 {{ new_grievance.department }}
                            p
                                span.span3.offset2 Scheme
                                span.span4.offset2 {{ new_grievance.scheme }}
                            p
                                span.span3.offset2 Grievance Type
                                span.span4.offset2 {{ new_grievance.grievanceType }}
                            p
                                span.span3.offset2 Note
                                span.span4.offset2 {{ new_grievance.note }}
                            p
                                span.span3.offset2 Requirement
                                span.span4.offset2 {{ new_grievance.requirement }}
                            p
                                span.span3.offset2 Status
                                span.span4.offset2 {{ new_grievance.status }}
                            p
                                span.span3.offset2 Responded Message
                                span.span4.offset2 {{ new_grievance.message }}
                            p
                                span.span3.offset2 Applied Date
                                span.span4.offset2 {{ new_grievance.applicationDate }}
                            p
                                span.span3.offset2 Responded Date
                                span.span4.offset2 {{ new_grievance.respondedDate }}
                    .modal-footer
                        button.btn.btn-sm.btn-info(type='button', ng-click="printPdf()")
                            i.glyphicon.glyphicon-print
                            |   Print
                        button.btn.btn-sm.btn-danger(type='button', data-dismiss='modal')
                            i.glyphicon.glyphicon-remove
                            |   Close
