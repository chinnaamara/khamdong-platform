//
   Created by chinna on 7/8/14.
section.container
    .row(uploader="uploader")
        .col-lg-12
            .panel.panel-primary
                .panel-heading Grievances
                .panel-body
                    .loader-div(ng-show='loading')
                        h4 Loading, Please wait...
                    .main-div(ng-show="loadDone")
                        .search.col-xs-4.pull-right
                            input(type="search", class="form-control", ng-model="filter.$", placeholder="search here..")

                        .table-responsive
                            table#grievancesTable(class="table table-striped table-bordered table-condensed", ng-table='tableParams')
                                //thead
                                //    tr
                                //        th #
                                //        th Reference Id
                                //        th Grievance Type
                                //        th Department
                                //        th Scheme
                                //        th Requirement
                                //        th Name
                                //        th Mobile Number
                                //        //th Constituency
                                //        th Applied Date
                                //        th Responded Date
                                //        th Status
                                tbody
                                    tr(ng-repeat='grievance in $data | orderByPriority | orderBy : predicate')
                                        td(class='buttons-td', data-title='"#"')
                                            a.btn.btn-sm.btn-info(href="", data-toggle="modal", data-target="#myDoc", ng-click="showDocuments(grievance)")
                                                i.glyphicon.glyphicon-file
                                                |   File
                                            a.btn.btn-sm.btn-info(href="", id='grievancePrint', ng-click="showDetails(grievance)")
                                                i.glyphicon.glyphicon-info-sign
                                                |   Info
                                        td(data-title='"Reference Id"')
                                            span {{ grievance.referenceNum }}
                                        td(data-title='"Grievance Type"')
                                            span {{ grievance.grievanceType }}
                                        td(data-title='"Department"')
                                            span {{ grievance.department }}
                                        td(data-title='"Scheme"')
                                            span {{ grievance.scheme }}
                                        td(data-title='"Requirement"')
                                            span {{ grievance.requirement }}
                                        td(data-title='"Name"')
                                            span {{ grievance.name }}
                                        td(data-title='"Phone Number"')
                                            span {{ grievance.phoneNumber }}
                                        //td
                                        //    span {{ grievance.constituency }}
                                        td(data-title='"Applied Date"')
                                            span {{ grievance.applicationDate }}
                                        td(data-title='"Responded Date"')
                                            span {{ grievance.respondedDate }}
                                        td(data-title='"Status"')
                                            span {{ grievance.status }}

                            //.pull-right
                            //    button.btn.btn-info.btn-sm#prev(ng-click='pageBack()', ng-disabled='noPrevious')
                            //        i.glyphicon.glyphicon-arrow-left
                            //        |   Previous
                            //    button.btn.btn-info.btn-sm#next(ng-click='pageNext()', ng-disabled='noNext')
                            //        |   Next
                            //        &nbsp;
                            //        i.glyphicon.glyphicon-arrow-right

#myDoc.modal.fade.bs-example-modal-lg(tabindex='-1', role='dialog', aria-labelledby='myLargeModalLabel', aria-hidden='true')
    .modal-dialog.modal-lg
        .modal-content
            .modal-header
                button.close(type='button', data-dismiss='modal')
                    span(aria-hidden='true') Ã—
                    span.sr-only Close
            #submitedDocs.modal-body
                div(ng-show='recommendedDoc')
                    h3 Copy of Recommended Document
                    canvas.imageDownload(id='recommendedDocCanvas')
                    a.btn.btn-sm.btn-info(type='button', id='downloadrecommendedDoc')
                        i.glyphicon.glyphicon-download
                        |   Download
                    hr
                div(ng-show='COIDoc')
                    h3 Copy of Certificate of Identity
                    canvas.imageDownload(id='COIDocCanvas')
                    a.btn.btn-sm.btn-info(type='button', id='downloadCOIDoc')
                        i.glyphicon.glyphicon-download
                        |   Download
                    hr
                div(ng-show='voterDoc')
                    h3 Copy of Voter Card
                    canvas.imageDownload(id='voterIdCanvas')
                    a.btn.btn-sm.btn-info(type='button', id='downloadVoter')
                        i.glyphicon.glyphicon-download
                        |   Download
                    hr
                div(ng-show='casteDoc')
                    h3 Copy of Caste Certificate
                    canvas.imageDownload(id='casteCertificateCanvas')
                    a.btn.btn-sm.btn-info(type='button', id='downloadCasteCertificate')
                        i.glyphicon.glyphicon-download
                        |   Download
                    hr
                div(ng-show='otherDoc')
                    h3 Copy of Other Document
                    canvas.imageDownload(id='otherDocCanvas')
                    a.btn.btn-sm.btn-info(type='button', id='downloadOther')
                        i.glyphicon.glyphicon-download
                        |   Download
                div(ng-show='noDocs')
                    h3 No Uploaded Documents
                    img.noImage(src = '../images/no_documents.png')

            .modal-footer
                button.btn.btn-sm.btn-danger(data-dismiss='modal')
                    i.glyphicon.glyphicon-remove
                    |   Close
